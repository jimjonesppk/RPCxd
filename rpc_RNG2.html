<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RPC</title>
  </head>
  <body>
    <p>PICK ROCK PAPER SCISSORS</p>
    <button
      onclick="
    playGame('Rock')
    "
    >
      ROCK
    </button>
    <button
      onclick="
    playGame('Paper')
    "
    >
      PAPER
    </button>
    <button
      onclick="
    playGame('Scissors')
    "
    >
      SCISSORS
    </button>
    <button onclick="resetScore()">RESET SCORE</button>

    <br /><br />

    <script>
      let score = JSON.parse(localStorage.getItem("scoresc")) || {
        userWins: 0,
        compWins: 0,
        Ties: 0,
      };
      //OR

      /*
      if (!score) {        ///score === null same thing coz null is falsy
        score = {
          userWins: 0,
          compWins: 0,
          Ties: 0,
        };
      } 
      */

      function playGame(role) {
        const compMoveSysin = rngMove();

        let state = "";

        if (role === compMoveSysin) {
          state = "Tie";
          score.Ties += 1;
        } else if (
          (role === "Rock" && compMoveSysin === "Scissors") ||
          (role === "Paper" && compMoveSysin === "Rock") ||
          (role === "Scissors" && compMoveSysin === "Paper")
        ) {
          state = "Win";
          score.userWins += 1;
        } else {
          state = "Lose";
          score.compWins += 1;
        }

        localStorage.setItem("scoresc", JSON.stringify(score));

        alert(
          `you picked ${role} and god picked ${compMoveSysin}, you ${state}
Wins : ${score.userWins} , Losses : ${score.compWins}, Ties : ${score.Ties}`
        );
      }

      function rngMove() {
        const RNGpc = Math.random();

        let compMove = "";
        if (RNGpc >= 0 && RNGpc < 1 / 3) {
          compMove = "Rock";
        } else if (RNGpc >= 1 / 3 && RNGpc < 2 / 3) {
          compMove = "Paper";
        } else if (RNGpc >= 2 / 3 && RNGpc < 3 / 3) {
          compMove = "Scissors";
        }

        return compMove;
      }

      function resetScore() {
        score.userWins = 0;
        score.compWins = 0;
        score.Ties = 0;
        alert("Score has been reset!");
        localStorage.removeItem("scoresc");
      }
    </script>
  </body>
</html>
